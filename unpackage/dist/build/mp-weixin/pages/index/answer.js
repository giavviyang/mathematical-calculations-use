(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/answer"],{"1e94":function(t,e,r){"use strict";r.r(e);var o=r("c41c"),i=r("e966");for(var n in i)"default"!==n&&function(t){r.d(e,t,(function(){return i[t]}))}(n);r("e70f");var s,c=r("f0c5"),l=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"2c4f314b",null,!1,o["a"],s);e["default"]=l.exports},"37c4":function(t,e,r){"use strict";r.r(e);var o=r("ec30"),i=r.n(o);for(var n in o)"default"!==n&&function(t){r.d(e,t,(function(){return o[t]}))}(n);e["default"]=i.a},4461:function(t,e,r){"use strict";r.r(e);var o=r("37c4");for(var i in o)"default"!==i&&function(t){r.d(e,t,(function(){return o[t]}))}(i);r("f91c");var n,s,c,l,a=r("f0c5"),u=Object(a["a"])(o["default"],n,s,!1,null,null,null,!1,c,l);e["default"]=u.exports},"5b83":function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r("a34a")),i=n(r("4461"));function n(t){return t&&t.__esModule?t:{default:t}}function s(t,e,r,o,i,n,s){try{var c=t[n](s),l=c.value}catch(a){return void r(a)}c.done?e(l):Promise.resolve(l).then(o,i)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var n=t.apply(e,r);function c(t){s(n,o,i,c,l,"next",t)}function l(t){s(n,o,i,c,l,"throw",t)}c(void 0)}))}}var l=function(){r.e("component/customer-top-bar/index").then(function(){return resolve(r("8f3f"))}.bind(null,r)).catch(r.oe)},a=function(){r.e("components/beyondGod-roll/text-roll").then(function(){return resolve(r("0c54"))}.bind(null,r)).catch(r.oe)},u={components:{CustomerTopBar:l,TextRoll:a},data:function(){return{statusBarHeight:i.default.globalData.statusBarHeight,result:{record:[],currentValue:""},FractionResult:{record1:[],record2:[],currentValue1:"",currentValue2:""},subject:{},current:0,params:{},second:0,timer:null,isShowModal:!1,isFocus1:!1,isFocus2:!0,innerAudioContext:null,acoustics:null,soundSwitch:null,bgMusicSwitch:null,localVoice:!0,isInit:!0,rightUrl1:"",rightUrl2:"",errorUrl1:"",errorUrl2:"",platform:"",isPad:!1}},onLoad:function(e){var r=this;return c(o.default.mark((function i(){var n,s;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return n=r,t.getSystemInfo({success:function(t){console.log(t),n.platform=t.platform,console.log(t.screenWidth>480),(-1!=t.model.indexOf("Pad")||t.screenWidth>=450)&&(n.isPad=!0)}}),t.downloadFile({url:r.$http.baseUrl+"/applet/file/ioReadImage?fileId=breakThroughCorrect.mp3",success:function(e){console.log(e.tempFilePath),n.rightUrl1=e.tempFilePath,t.playVoice({filePath:e.tempFilePath,complete:function(t){console.log("playVoice res"),console.log(t)}})}}),t.downloadFile({url:r.$http.baseUrl+"/applet/file/ioReadImage?fileId=otherCorrect.mp3",success:function(e){console.log(e.tempFilePath),n.rightUrl2=e.tempFilePath,t.playVoice({filePath:e.tempFilePath,complete:function(t){console.log("playVoice res"),console.log(t)}})}}),t.downloadFile({url:r.$http.baseUrl+"/applet/file/ioReadImage?fileId=breakThroughError.mp3",success:function(e){console.log(e.tempFilePath),n.errorUrl1=e.tempFilePath,t.playVoice({filePath:e.tempFilePath,complete:function(t){console.log("playVoice res"),console.log(t)}})}}),t.downloadFile({url:r.$http.baseUrl+"/applet/file/ioReadImage?fileId=otherError.mp3",success:function(e){console.log(e.tempFilePath),n.errorUrl2=e.tempFilePath,t.playVoice({filePath:e.tempFilePath,complete:function(t){console.log("playVoice res"),console.log(t)}})}}),r.id=e.id,r.type=e.type,r.querySubjectList(),setTimeout((function(){n.progress="50%"}),1e3),r.timer=setInterval((function(){n.second=n.second+1}),1e3),o.next=13,r.$http.post("/applet/getStudentsInfo",{});case 13:s=o.sent,r.bgMusicSwitch=0==s.data.backgroundMusic?1:2,r.bgMusicSwitch=t.getStorageSync("bgMusicSwitch"),1==r.bgMusicSwitch?console.log("背景音乐关闭"):r.playBgMusic(),r.soundSwitch=0==s.data.acoustics?1:2;case 18:case"end":return o.stop()}}),i)})))()},destroyed:function(){clearInterval(this.timer),this.innerAudioContext&&this.innerAudioContext.destroy()},methods:{playBgMusic:function(){var e=this;this.innerAudioContext=t.createInnerAudioContext(),this.innerAudioContext.autoplay=!0,this.innerAudioContext.loop=!0,this.innerAudioContext.src=this.$http.baseUrl+"/applet/file/ioReadImage?fileId=backgroundMusic.mp3",this.innerAudioContext.onPlay((function(){console.log("开始播放")})),this.innerAudioContext.onEnded((function(){console.log("播放结束"),e.innerAudioContext.play()})),this.innerAudioContext.onCanplay((function(){console.log("可以播放了"),e.isInit&&(e.innerAudioContext.play(),e.isInit=!1)}))},localVoiceHandle:function(t){this.localVoice=t,console.log(t),t?this.innerAudioContext&&this.innerAudioContext.play():this.innerAudioContext&&this.innerAudioContext.stop()},tipsHandle:function(){t.showToast({title:"请前往设置开启音效",icon:"none",duration:1500})},focusHandle:function(t){1==t?(this.isFocus1=!0,this.isFocus2=!1):(this.isFocus1=!1,this.isFocus2=!0)},navigateBack:function(){this.isShowModal=!1,t.navigateBack()},customHandle:function(){this.isShowModal=!0},confirmHandle:function(){var e=this;return c(o.default.mark((function r(){var i;return o.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.acoustics&&e.acoustics.destroy(),e.subject.list[e.current].isFraction?e.params[e.subject.list[e.current].id]=e.FractionResult.currentValue1+"/"+e.FractionResult.currentValue2:e.params[e.subject.list[e.current].id]=e.result.currentValue,1!=e.soundSwitch&&e.localVoice&&(e.acoustics=t.createInnerAudioContext(),console.log(e.subject.list[e.current],e.params[e.subject.list[e.current].id]),1==e.type?e.subject.list[e.current].result==e.params[e.subject.list[e.current].id]?"ios"==e.platform?e.acoustics.src=e.$http.baseUrl+"/applet/file/ioReadImage?fileId=breakThroughCorrect.mp3":e.acoustics.src=e.rightUrl1||e.$http.baseUrl+"/applet/file/ioReadImage?fileId=breakThroughCorrect.mp3":"ios"==e.platform?e.acoustics.src=e.$http.baseUrl+"/applet/file/ioReadImage?fileId=breakThroughError.mp3":e.acoustics.src=e.errorUrl1||e.$http.baseUrl+"/applet/file/ioReadImage?fileId=breakThroughError.mp3":e.subject.list[e.current].result==e.params[e.subject.list[e.current].id]?"ios"==e.platform?e.acoustics.src=e.$http.baseUrl+"/applet/file/ioReadImage?fileId=otherCorrect.mp3":e.acoustics.src=e.rightUrl2||e.$http.baseUrl+"/applet/file/ioReadImage?fileId=otherCorrect.mp3":"ios"==e.platform?e.acoustics.src=e.$http.baseUrl+"/applet/file/ioReadImage?fileId=otherError.mp3":e.acoustics.src=e.errorUrl2||e.$http.baseUrl+"/applet/file/ioReadImage?fileId=otherError.mp3",e.acoustics.play()),e.current<e.subject.list.length-1?(e.current=e.current+1,e.result={record:[],currentValue:""},e.FractionResult={record1:[],record2:[],currentValue1:"",currentValue2:""},e.isFocus1=!1,e.isFocus2=!0):(i={id:e.subject.id,json:JSON.stringify(e.params),second:e.second},(3==e.type||e.type.indexOf("error")>-1)&&(i.batchId=e.subject.id),t.redirectTo({url:"/pages/index/result?params="+JSON.stringify(i)+"&type="+e.type}));case 4:case"end":return r.stop()}}),r)})))()},querySubjectList:function(){var e=this;return c(o.default.mark((function r(){var i,n,s;return o.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.showLoading({title:"加载中",icon:"loading"}),3!=e.type){r.next=11;break}return console.log(e.type,e.id),r.next=5,e.$http.get("/applet/classRoomTest/generateTestTopic",{testId:e.id});case 5:i=r.sent,console.log(i,1111111111111),i.data.list.forEach((function(t){-1==Number(t.resultType)?t.isFraction=!1:Number(t.resultType)>-1&&(t.isFraction=!0),t.formula=t.formula.replace(/\'/g,"").split(",")})),e.subject=i.data,r.next=25;break;case 11:if(!(e.type.indexOf("error")>-1)){r.next=19;break}console.log(12121212,t.getStorageSync("errorList")),n=JSON.parse(t.getStorageSync("errorList")),console.log(n),n.list.forEach((function(t){-1==Number(t.resultType)?t.isFraction=!1:Number(t.resultType)>-1&&(t.isFraction=!0),t.formula=t.formula.replace(/\'/g,"").split(",")})),e.subject=n,r.next=25;break;case 19:return r.next=21,e.$http.post("/applet/training/querySubjectList",{id:e.id,type:e.type});case 21:s=r.sent,console.log(s,11111),s.data.list.forEach((function(t){-1==Number(t.resultType)?t.isFraction=!1:Number(t.resultType)>-1&&(t.isFraction=!0),t.formula=t.formula.replace(/\'/g,"").split(",")})),e.subject=s.data;case 25:t.hideLoading();case 26:case"end":return r.stop()}}),r)})))()},backHandle:function(){this.subject.list[this.current].isFraction?this.isFocus1?(this.FractionResult.record1.length>0&&this.FractionResult.record1.pop(),this.FractionResult.record1[0]?this.FractionResult.currentValue1=this.FractionResult.record1[this.FractionResult.record1.length-1]:this.FractionResult.currentValue1=""):this.isFocus2&&(this.FractionResult.record2.length>0&&this.FractionResult.record2.pop(),this.FractionResult.record2[0]?this.FractionResult.currentValue2=this.FractionResult.record2[this.FractionResult.record2.length-1]:this.FractionResult.currentValue2=""):(this.result.record.length>0&&this.result.record.pop(),this.result.record[0]?this.result.currentValue=this.result.record[this.result.record.length-1]:this.result.currentValue="")},inputValue:function(t){if(this.subject.list[this.current].isFraction){if(this.isFocus1){if(this.FractionResult.record1[0]){this.FractionResult.record1[this.FractionResult.record1.length-1];var e=this.FractionResult.record1[this.FractionResult.record1.length-1]+t.toString();this.FractionResult.record1.push(e)}else this.FractionResult.record1.push(t.toString());this.FractionResult.currentValue1=this.FractionResult.record1[this.FractionResult.record1.length-1]}else if(this.isFocus2){if(this.FractionResult.record2[0]){this.FractionResult.record2[this.FractionResult.record2.length-1];var r=this.FractionResult.record2[this.FractionResult.record2.length-1]+t.toString();this.FractionResult.record2.push(r)}else this.FractionResult.record2.push(t.toString());this.FractionResult.currentValue2=this.FractionResult.record2[this.FractionResult.record2.length-1]}}else{if(this.result.record[0]){this.result.record[this.result.record.length-1];var o=this.result.record[this.result.record.length-1]+t.toString();this.result.record.push(o)}else this.result.record.push(t.toString());this.result.currentValue=this.result.record[this.result.record.length-1]}}}};e.default=u}).call(this,r("543d")["default"])},c41c:function(t,e,r){"use strict";var o;r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return n})),r.d(e,"a",(function(){return o}));var i=function(){var t=this,e=t.$createElement,r=(t._self._c,t.subject.list?t.__map(t.subject.list[t.current].formula,(function(e,r){var o=t.__get_orig(e),i="+"!=e&&"-"!=e&&"x"!=e&&"×"!=e&&"÷"!=e&&"="!=e?e.indexOf("/"):null,n="+"!=e&&"-"!=e&&"x"!=e&&"×"!=e&&"÷"!=e&&"="!=e&&-1!=i?e.split("/"):null,s="+"!=e&&"-"!=e&&"x"!=e&&"×"!=e&&"÷"!=e&&"="!=e&&-1!=i?e.split("/"):null;return{$orig:o,g0:i,g1:n,g2:s}})):null);t._isMounted||(t.e0=function(e){e.stopPropagation(),t.isShowModal=!1},t.e1=function(e){e.stopPropagation(),t.isShowModal=!1}),t.$mp.data=Object.assign({},{$root:{l0:r}})},n=[]},e5ba:function(t,e,r){},e70f:function(t,e,r){"use strict";var o=r("e5ba"),i=r.n(o);i.a},e966:function(t,e,r){"use strict";r.r(e);var o=r("5b83"),i=r.n(o);for(var n in o)"default"!==n&&function(t){r.d(e,t,(function(){return o[t]}))}(n);e["default"]=i.a},ec30:function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r("a34a"));function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e,r,o,i,n,s){try{var c=t[n](s),l=c.value}catch(a){return void r(a)}c.done?e(l):Promise.resolve(l).then(o,i)}function s(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var s=t.apply(e,r);function c(t){n(s,o,i,c,l,"next",t)}function l(t){n(s,o,i,c,l,"throw",t)}c(void 0)}))}}var c={globalData:{statusBarHeight:"",isIPhoneX:!1,timer:null,minutes:0},onLaunch:function(){var e=s(o.default.mark((function e(){var r;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("App Launch"),r=this,t.getSystemInfo({success:function(t){r.globalData.statusBarHeight=t.statusBarHeight,-1==t.model.indexOf("iPhone X")&&-1==t.model.indexOf("iPhone XR")&&-1==t.model.indexOf("iPhone XS Max")||(r.globalData.isIPhoneX=!0)}}),this.globalData.timer=setInterval((function(){r.globalData.minutes=r.globalData.minutes+1}),1e3),t.setInnerAudioOption({mixWithOther:!0,obeyMuteSwitch:!1});case 5:case"end":return e.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}(),onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide"),clearInterval(this.globalData.timer)}};e.default=c}).call(this,r("543d")["default"])},f906:function(t,e,r){"use strict";(function(t){r("ce6b");o(r("66fd"));var e=o(r("1e94"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=r,t(e.default)}).call(this,r("543d")["createPage"])},f91c:function(t,e,r){"use strict";var o=r("fd7f"),i=r.n(o);i.a},fd7f:function(t,e,r){}},[["f906","common/runtime","common/vendor"]]]);